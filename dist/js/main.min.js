"use strict";function _createForOfIteratorHelper(e,s){var t,a,n,l,o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(o)return a=!(t=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return t=e.done,e},e:function(e){a=!0,n=e},f:function(){try{t||null==o.return||o.return()}finally{if(a)throw n}}};if(Array.isArray(e)||(o=_unsupportedIterableToArray(e))||s&&e&&"number"==typeof e.length)return o&&(e=o),l=0,{s:s=function(){},n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,s){var t;if(e)return"string"==typeof e?_arrayLikeToArray(e,s):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,s):void 0}function _arrayLikeToArray(e,s){(null==s||s>e.length)&&(s=e.length);for(var t=0,a=new Array(s);t<s;t++)a[t]=e[t];return a}function _defineProperties(e,s){for(var t=0;t<s.length;t++){var a=s[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,s,t){return s&&_defineProperties(e.prototype,s),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var gamePlate=document.querySelector(".game-box__plate"),navBar=document.querySelector(".navbar"),gameList=document.querySelector(".navbar__list-game"),navItems=gameList.querySelectorAll(".navbar__list__item"),counterMines=document.querySelector(".counter-mines"),plateElements=gamePlate.getElementsByClassName("game-box__plate__element"),begginer=[8,8,10],intermediate=[16,16,40],expert=[31,16,99],bombsNumber=0,flagsNumber=0,bombs=[],boxes=[],chosenLevel=begginer,countBoxes=function(e){return e[0]*e[1]},shuffle=function(e,s){for(var t=0;t<s;t++){var a=Math.floor(Math.random()*e);0===a||bombs.includes(a)?t--:bombs.push(a)}},GamePlate=_createClass(function e(s,t,a){_classCallCheck(this,e),this.id=s,this.bomb=t,this.bombsAround=a}),createGamePlate=function(e){for(var s=0;s<e;s++)checkBombAround(s,chosenLevel[0]),boxes[s]=new GamePlate(s,!1,bombsNumber),bombsNumber=0},plantBombs=function(){boxes.forEach(function(e){bombs.includes(e.id)&&(e.bomb=!0)})},drawGamePlate=function(e){for(var s=0;s<e;s++){var t=document.createElement("div");t.setAttribute("id",s),gamePlate.append(t),t.classList.add("game-box__plate__element")}counterMines.innerHTML="0".concat(chosenLevel[2])},clearPlate=function(){gamePlate.innerHTML="",bombs=[],boxes=[]},newGame=function(){counterMines.innerHTML="0".concat(chosenLevel[2]),clearPlate(),shuffle(countBoxes(chosenLevel),chosenLevel[2]),createGamePlate(countBoxes(chosenLevel)),plantBombs(),drawGamePlate(countBoxes(chosenLevel))},chooseLevel=function(e){clearPlate(),e.target.classList.contains("begginer")?(chosenLevel=begginer,gamePlate.classList.remove("plate-intermediate"),gamePlate.classList.remove("plate-expert"),gamePlate.classList.add("plate-begginer")):e.target.classList.contains("intermediate")?(chosenLevel=intermediate,gamePlate.classList.remove("plate-begginer"),gamePlate.classList.remove("plate-expert"),gamePlate.classList.add("plate-intermediate")):e.target.classList.contains("expert")&&(chosenLevel=expert,gamePlate.classList.remove("plate-begginer"),gamePlate.classList.remove("plate-intermediate"),gamePlate.classList.add("plate-expert")),navItems.forEach(function(e){return e.classList.toggle("navbar__list-game__item")}),newGame()},unfoldMenu=function(e){e.target.classList.contains("navbar__list-game")&&navItems.forEach(function(e){return e.classList.toggle("navbar__list-game__item")})},putFlag=function(e){e.preventDefault(),e.target.classList.contains("show-empty")||e.target.classList.contains("show-bomb")||e.target.classList.contains("show-trigger")||e.target.classList.contains("show-number")||e.target.classList.contains("wrong-bet")||e.target.classList.toggle("put-flag")},showAll=function(e){var s,t=gamePlate.getElementsByClassName("game-box__plate__element"),a=(e.preventDefault(),_createForOfIteratorHelper(boxes));try{for(a.s();!(s=a.n()).done;){var n=s.value;!0!==n.bomb||t[n.id].classList.contains("put-flag")||t[n.id].classList.add("show-bomb"),!1===n.bomb&&t[n.id].classList.contains("put-flag")&&t[n.id].classList.add("wrong-bet")}}catch(e){a.e(e)}finally{a.f()}},checkBombAround=function(e,s){0===e?(bombs.includes(e+1)&&bombsNumber++,bombs.includes(e+s)&&bombsNumber++,bombs.includes(e+(s+1))&&bombsNumber++):e===s-1?(bombs.includes(e-1)&&bombsNumber++,bombs.includes(e+s)&&bombsNumber++,bombs.includes(e+(s-1))&&bombsNumber++):e===s*s-s?(bombs.includes(e+1)&&bombsNumber++,bombs.includes(e-s)&&bombsNumber++,bombs.includes(e-(s-1))&&bombsNumber++):e===s*s-1?(bombs.includes(e-1)&&bombsNumber++,bombs.includes(e-s)&&bombsNumber++,bombs.includes(e-(s+1))&&bombsNumber++):e%s==0?(bombs.includes(e-s)&&bombsNumber++,bombs.includes(e-s+1)&&bombsNumber++,bombs.includes(e+1)&&bombsNumber++,bombs.includes(e+s)&&bombsNumber++,bombs.includes(e+s+1)&&bombsNumber++):(e+1)%s==0?(bombs.includes(e-s)&&bombsNumber++,bombs.includes(e-s-1)&&bombsNumber++,bombs.includes(e-1)&&bombsNumber++,bombs.includes(e+s)&&bombsNumber++,bombs.includes(e+s-1)&&bombsNumber++):e-s<0?(bombs.includes(e-1)&&bombsNumber++,bombs.includes(e+1)&&bombsNumber++,bombs.includes(e+s+1)&&bombsNumber++,bombs.includes(e+s)&&bombsNumber++,bombs.includes(e+s-1)&&bombsNumber++):s*s-s<e?(bombs.includes(e-1)&&bombsNumber++,bombs.includes(e+1)&&bombsNumber++,bombs.includes(e-s+1)&&bombsNumber++,bombs.includes(e-s)&&bombsNumber++,bombs.includes(e-s-1)&&bombsNumber++):(bombs.includes(e-1)&&bombsNumber++,bombs.includes(e+1)&&bombsNumber++,bombs.includes(e-s+1)&&bombsNumber++,bombs.includes(e-s)&&bombsNumber++,bombs.includes(e-s-1)&&bombsNumber++,bombs.includes(e+s+1)&&bombsNumber++,bombs.includes(e+s)&&bombsNumber++,bombs.includes(e+s-1)&&bombsNumber++)},showEmptyForZeroBombs=function(e,s){0===e?(plateElements[e+1].classList.contains("show-empty")||showEmpty(e+1,s),plateElements[e+1+s].classList.contains("show-empty")||showEmpty(e+1+s,s),plateElements[e+s].classList.contains("show-empty")||showEmpty(e+s,s)):e===s-1?(plateElements[e-1].classList.contains("show-empty")||showEmpty(e-1,s),plateElements[e-1+s].classList.contains("show-empty")||showEmpty(e-1+s,s),plateElements[e+s].classList.contains("show-empty")||showEmpty(e+s,s)):e===s*s-s?(plateElements[e+1].classList.contains("show-empty")||showEmpty(e+1,s),plateElements[e-s].classList.contains("show-empty")||showEmpty(e-s,s),plateElements[e-1-s].classList.contains("show-empty")||showEmpty(e-1-s,s)):e===s*s-1?(plateElements[e-1].classList.contains("show-empty")||showEmpty(e-1,s),plateElements[e-s].classList.contains("show-empty")||showEmpty(e-s,s),plateElements[e-1-s].classList.contains("show-empty")||showEmpty(e-1-s,s)):e%s==0?(plateElements[e-s].classList.contains("show-empty")||showEmpty(e-s,s),plateElements[e+1-s].classList.contains("show-empty")||showEmpty(e+1-s,s),plateElements[e+1].classList.contains("show-empty")||showEmpty(e+1,s),plateElements[e+s].classList.contains("show-empty")||showEmpty(e+s,s),plateElements[e+1+s].classList.contains("show-empty")||showEmpty(e+1+s,s)):(e+1)%s==0?(plateElements[e-s].classList.contains("show-empty")||showEmpty(e-s,s),plateElements[e-s-1].classList.contains("show-empty")||showEmpty(e-s-1,s),plateElements[e-1].classList.contains("show-empty")||showEmpty(e-1,s),plateElements[e+s].classList.contains("show-empty")||showEmpty(e+s,s),plateElements[e+s-1].classList.contains("show-empty")||showEmpty(e+s-1,s)):e-s<0?(plateElements[e-1].classList.contains("show-empty")||showEmpty(e-1,s),plateElements[e+1].classList.contains("show-empty")||showEmpty(e+1,s),plateElements[e+s+1].classList.contains("show-empty")||showEmpty(e+s+1,s),plateElements[e+s].classList.contains("show-empty")||showEmpty(e+s,s),plateElements[e+s-1].classList.contains("show-empty")||showEmpty(e+s-1,s)):s*s-s<e?(plateElements[e-1].classList.contains("show-empty")||showEmpty(e-1,s),plateElements[e+1].classList.contains("show-empty")||showEmpty(e+1,s),plateElements[e-s+1].classList.contains("show-empty")||showEmpty(e-s+1,s),plateElements[e-s].classList.contains("show-empty")||showEmpty(e-s,s),plateElements[e-s-1].classList.contains("show-empty")||showEmpty(e-s-1,s)):(plateElements[e-1].classList.contains("show-empty")||showEmpty(e-1,s),plateElements[e+1].classList.contains("show-empty")||showEmpty(e+1,s),plateElements[e-s+1].classList.contains("show-empty")||showEmpty(e-s+1,s),plateElements[e-s].classList.contains("show-empty")||showEmpty(e-s,s),plateElements[e-s-1].classList.contains("show-empty")||showEmpty(e-s-1,s),plateElements[e+s-1].classList.contains("show-empty")||showEmpty(e+s-1,s),plateElements[e+s].classList.contains("show-empty")||showEmpty(e+s,s),plateElements[e+s+1].classList.contains("show-empty")||showEmpty(e+s+1,s))},showEmpty=function(e,s){e=Number.parseFloat(e);plateElements[e].classList.contains("put-flag")||(0===boxes[e].bombsAround?(plateElements[e].classList.add("show-empty"),showEmptyForZeroBombs(e,s)):1===boxes[e].bombsAround?(plateElements[e].classList.add("show-number"),plateElements[e].classList.add("show-number-1")):2===boxes[e].bombsAround?(plateElements[e].classList.add("show-number"),plateElements[e].classList.add("show-number-2")):3===boxes[e].bombsAround?(plateElements[e].classList.add("show-number"),plateElements[e].classList.add("show-number-3")):4===boxes[e].bombsAround?(plateElements[e].classList.add("show-number"),plateElements[e].classList.add("show-number-4")):5===boxes[e].bombsAround?(plateElements[e].classList.add("show-number"),plateElements[e].classList.add("show-number-5")):6===boxes[e].bombsAround?(plateElements[e].classList.add("show-number"),plateElements[e].classList.add("show-number-6")):7===boxes[e].bombsAround?(plateElements[e].classList.add("show-number"),plateElements[e].classList.add("show-number-7")):8===boxes[e].bombsAround&&(plateElements[e].classList.add("show-number"),plateElements[e].classList.add("show-number-8")))},leftClick=function(e){e.target.classList.contains("put-flag")?e.preventDefault():!1===boxes[e.target.id].bomb?showEmpty(e.target.id,chosenLevel[0]):!0===boxes[e.target.id].bomb&&(e.target.classList.add("show-trigger"),showAll(e))},checkFlagsAround=function(e,s){0===e?(document.getElementById(e+1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+s).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+s+1).classList.contains("put-flag")&&flagsNumber++):e===s-1?(document.getElementById(e-1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+s).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+s-1).classList.contains("put-flag")&&flagsNumber++):e===s*s-s?(document.getElementById(e+1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e-s).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e-s-1).classList.contains("put-flag")&&flagsNumber++):e===s*s-1?(document.getElementById(e-1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e-s).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e-s+1).classList.contains("put-flag")&&flagsNumber++):e%s==0?(document.getElementById(e-s).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e-s+1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+s).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+s+1).classList.contains("put-flag")&&flagsNumber++):(e+1)%s==0?(document.getElementById(e-s).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e-s-1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e-1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+s).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+s-1).classList.contains("put-flag")&&flagsNumber++):e-s<0?(document.getElementById(e-1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+s+1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+s).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+s-1).classList.contains("put-flag")&&flagsNumber++):s*s-s<e?(document.getElementById(e-1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e-s+1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e-s).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e-s-1).classList.contains("put-flag")&&flagsNumber++):(document.getElementById(e-1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e-s+1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e-s).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e-s-1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+s+1).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+s).classList.contains("put-flag")&&flagsNumber++,document.getElementById(e+s-1).classList.contains("put-flag")&&flagsNumber++)},doubleClick=function(e){var s=Number.parseFloat(e.target.id);e.target.classList.contains("show-number")&&(flagsNumber=0,checkFlagsAround(Number.parseFloat(e.target.id),chosenLevel[0]),(e.target.classList.contains("show-number-1")&&1===flagsNumber||e.target.classList.contains("show-number-2")&&2===flagsNumber||e.target.classList.contains("show-number-3")&&3===flagsNumber||e.target.classList.contains("show-number-4")&&4===flagsNumber||e.target.classList.contains("show-number-5")&&5===flagsNumber||e.target.classList.contains("show-number-6")&&6===flagsNumber||e.target.classList.contains("show-number-7")&&7===flagsNumber||e.target.classList.contains("show-number-8")&&8===flagsNumber)&&showEmptyForZeroBombs(s,chosenLevel[0]),flagsNumber=0)};navBar.addEventListener("click",unfoldMenu),navItems.forEach(function(e){return e.addEventListener("click",chooseLevel)}),gamePlate.addEventListener("contextmenu",putFlag),gamePlate.addEventListener("click",leftClick),gamePlate.addEventListener("dblclick",doubleClick),newGame();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZ2FtZVBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2QmFyIiwiZ2FtZUxpc3QiLCJuYXZJdGVtcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb3VudGVyTWluZXMiLCJwbGF0ZUVsZW1lbnRzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImJlZ2dpbmVyIiwiaW50ZXJtZWRpYXRlIiwiZXhwZXJ0IiwiYm9tYnNOdW1iZXIiLCJmbGFnc051bWJlciIsImJveGVzQW1vdW50IiwiYm9tYnNBbW91bnQiLCJpIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiYm9tYnMiLCJpbmNsdWRlcyIsInJhbmRvbU51bSIsImJveGVzIiwicHVzaCIsInNodWZmbGUiLCJHYW1lUGxhdGUiLCJpZCIsImJvbWIiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiYm9tYnNBcm91bmQiLCJjcmVhdGVHYW1lUGxhdGUiLCJjaGVja0JvbWJBcm91bmQiLCJjaG9zZW5MZXZlbCIsInBsYW50Qm9tYnMiLCJib3giLCJlbXB0eUJveCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJmb3JFYWNoIiwiYWRkIiwiaW5uZXJIVE1MIiwiY29uY2F0IiwiY2xlYXJQbGF0ZSIsImRyYXdHYW1lUGxhdGUiLCJjbGFzc0xpc3QiLCJjb3VudEJveGVzIiwiZSIsInRhcmdldCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiY2hvb3NlTGV2ZWwiLCJ0b2dnbGUiLCJuZXdHYW1lIiwicHJldmVudERlZmF1bHQiLCJpdGVtIiwidW5mb2xkTWVudSIsInNob3dBbGwiLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwicyIsIm4iLCJkb25lIiwidmFsdWUiLCJwdXRGbGFnIiwiZXJyIiwiZiIsInJvd0xlbmd0aCIsInNob3dFbXB0eUZvclplcm9Cb21icyIsInNob3dFbXB0eSIsImxlZnRDbGljayIsImNoZWNrRmxhZ3NBcm91bmQiLCJnZXRFbGVtZW50QnlJZCIsIk51bWJlciIsImRvdWJsZUNsaWNrIiwiayIsImFkZEV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiI2akRBQUEsSUFBTUEsVUFBWUMsU0FBU0MsY0FBYyxrQkFBdkIsRUFDWkMsT0FBU0YsU0FBU0MsY0FBYyxTQUF2QixFQUNURSxTQUFXSCxTQUFTQyxjQUFjLG9CQUF2QixFQUNYRyxTQUFXRCxTQUFTRSxpQkFBaUIscUJBQTFCLEVBQ1hDLGFBQWVOLFNBQVNDLGNBQWMsZ0JBQXZCLEVBRWZNLGNBQWdCUixVQUFVUyx1QkFBdUIsMEJBQWpDLEVBRWhCQyxTQUFXLENBQUMsRUFBRyxFQUFHLElBQ2xCQyxhQUFlLENBQUMsR0FBSSxHQUFJLElBQ3hCQyxPQUFTLENBQUMsR0FBSSxHQUFJLElBRXBCQyxZQUFjLEVBQ2RDLFlBQWMsRUFiWmQsTUFBQUEsR0FDQUcsTUFBTSxHQUNOQyxZQUFXSCxTQUVYTSxXQUFlTixTQUFBQSxHQUVyQixPQUFNTyxFQUFnQlIsR0FBQUEsRUFBVVMsRUFFaEMsRUFFTUcsUUFBUyxTQUFBRyxFQUFmQyxHQUVBLElBQUlILElBQUFBLEVBQUFBLEVBQVdJLEVBQWZELEVBQUFDLENBQUEsR0FBQSxDQUNBLElBQUlILEVBQWNJLEtBQWxCQyxNQUFBRCxLQUFBRSxPQUFBLEVBQUFMLENBQWtCLEVBQ2xCLElBQUlNLEdBQUpBLE1BQUFDLFNBQUFDLENBQUEsRUFDQU4sQ0FBSU8sR0FhREgsTUFBTUksS0FBS0YsQ0FBWCxDQVRGLENBREQsRUFJTUcsVSxhQVlMLFNBQUFDLEVBWFVDLEVBQVZDLEVBQW9CYixHQUFjYyxnQkFBQUMsS0FBQUosQ0FBQSxFQVlqQ0ksS0FYQUgsR0FBSUwsRUFZSlEsS0FBS0YsS0FBT0EsRUFDWkUsS0FaQUMsWUFBYUEsQ0FhYixDLEVBVENDLGdCQUFBLFNBQUFsQixHQWFGLElBWkMsSUFBQUUsRUFBQSxFQUFBQSxFQUFBRixFQUFBRSxDQUFBLEdBUkZpQixnQkFBQWpCLEVBQUFrQixZQUFBLEVBQUEs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R0FBVyxJQUFBQSxhQW1HRG1DLEVBQUVDLE9BQU9ILFVBQVVJLFNBQVMsZUFBNUIsR0FBZ0UsSUFBaEJyQyxhQWhHMURBLEVBQUFBLE9BQVdpQyxVQUFBSSxTQUFBLGVBQVhyQyxHQUFXLElBQUFBLGFBb0dEbUMsRUFBRUMsT0FBT0gsVUFBVUksU0FBUyxlQUE1QixHQUFnRSxJQUFoQnJDLGNBQzFEeUQsc0JBbkdZSSxFQUFBQSxZQUFtQkwsRUFBbkJLLEVBcUdiN0QsWUFuR0MsRUFxR0YsRUFHRFgsT0FBTzRFLGlCQUFpQixRQUFTckIsVUFBakMsRUFDQXJELFNBcEdNSixRQUFTMEUsU0FBQUEsR0FBQUEsT0FBQUEsRUFBQUEsaUJBQWUsUUFBbUI1QixXQUFsQzRCLENBQUFBLENBb0dmLEVBQ0EzRSxVQXBHR2MsaUJBQVcsY0FBQXFELE9Bb0dkLEVBQ0FuRSxVQXBHRytFLGlCQUFBLFFBQUFOLFNBb0dILEVBQ0F6RSxVQUFVK0UsaUJBQWlCLFdBQVlGLFdBQXZDLEVBQ0F0QixRQXJHRSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGdhbWVQbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lLWJveF9fcGxhdGUnKTtcclxuY29uc3QgbmF2QmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpO1xyXG5jb25zdCBnYW1lTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXJfX2xpc3QtZ2FtZScpO1xyXG5jb25zdCBuYXZJdGVtcyA9IGdhbWVMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZiYXJfX2xpc3RfX2l0ZW0nKTtcclxuY29uc3QgY291bnRlck1pbmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvdW50ZXItbWluZXMnKTtcclxuXHJcbmNvbnN0IHBsYXRlRWxlbWVudHMgPSBnYW1lUGxhdGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZ2FtZS1ib3hfX3BsYXRlX19lbGVtZW50Jyk7XHJcblxyXG5jb25zdCBiZWdnaW5lciA9IFs4LCA4LCAxMF07XHJcbmNvbnN0IGludGVybWVkaWF0ZSA9IFsxNiwgMTYsIDQwXTtcclxuY29uc3QgZXhwZXJ0ID0gWzMxLCAxNiwgOTldO1xyXG5cclxubGV0IGJvbWJzTnVtYmVyID0gMDtcclxubGV0IGZsYWdzTnVtYmVyID0gMDtcclxubGV0IGJvbWJzID0gW107XHJcbmxldCBib3hlcyA9IFtdO1xyXG5sZXQgY2hvc2VuTGV2ZWwgPSBiZWdnaW5lcjtcclxuXHJcbmNvbnN0IGNvdW50Qm94ZXMgPSBjaG9zZW5MZXZlbCA9PiB7XHJcblx0cmV0dXJuIGNob3NlbkxldmVsWzBdICogY2hvc2VuTGV2ZWxbMV07XHJcbn07XHJcblxyXG5jb25zdCBzaHVmZmxlID0gKGJveGVzQW1vdW50LCBib21ic0Ftb3VudCkgPT4ge1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgYm9tYnNBbW91bnQ7IGkrKykge1xyXG5cdFx0bGV0IHJhbmRvbU51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJveGVzQW1vdW50KTtcclxuXHRcdGlmIChyYW5kb21OdW0gPT09IDAgfHwgYm9tYnMuaW5jbHVkZXMocmFuZG9tTnVtKSkge1xyXG5cdFx0XHRpLS07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRib21icy5wdXNoKHJhbmRvbU51bSk7XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxuY2xhc3MgR2FtZVBsYXRlIHtcclxuXHRjb25zdHJ1Y3RvcihpZCwgYm9tYiwgYm9tYnNBcm91bmQpIHtcclxuXHRcdHRoaXMuaWQgPSBpZDtcclxuXHRcdHRoaXMuYm9tYiA9IGJvbWI7XHJcblx0XHR0aGlzLmJvbWJzQXJvdW5kID0gYm9tYnNBcm91bmQ7XHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjcmVhdGVHYW1lUGxhdGUgPSBib3hlc0Ftb3VudCA9PiB7XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBib3hlc0Ftb3VudDsgaSsrKSB7XHJcblx0XHRjaGVja0JvbWJBcm91bmQoaSwgY2hvc2VuTGV2ZWxbMF0pO1xyXG5cdFx0Ym94ZXNbaV0gPSBuZXcgR2FtZVBsYXRlKGksIGZhbHNlLCBib21ic051bWJlcik7XHJcblx0XHRib21ic051bWJlciA9IDA7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgcGxhbnRCb21icyA9ICgpID0+IHtcclxuXHRib3hlcy5mb3JFYWNoKGJveCA9PiB7XHJcblx0XHRpZiAoYm9tYnMuaW5jbHVkZXMoYm94LmlkKSkge1xyXG5cdFx0XHRib3guYm9tYiA9IHRydWU7XHJcblx0XHR9XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBkcmF3R2FtZVBsYXRlID0gYm94ZXNBbW91bnQgPT4ge1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgYm94ZXNBbW91bnQ7IGkrKykge1xyXG5cdFx0bGV0IGVtcHR5Qm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRlbXB0eUJveC5zZXRBdHRyaWJ1dGUoJ2lkJywgaSk7XHJcblx0XHRnYW1lUGxhdGUuYXBwZW5kKGVtcHR5Qm94KTtcclxuXHRcdGVtcHR5Qm94LmNsYXNzTGlzdC5hZGQoJ2dhbWUtYm94X19wbGF0ZV9fZWxlbWVudCcpO1xyXG5cdH1cclxuXHRjb3VudGVyTWluZXMuaW5uZXJIVE1MID0gYDAke2Nob3NlbkxldmVsWzJdfWA7XHJcblx0Ly8gdHUgbW96ZSBmb3JFYWNoZW1wdHlCb3hcclxufTtcclxuXHJcbmNvbnN0IGNsZWFyUGxhdGUgPSAoKSA9PiB7XHJcblx0Z2FtZVBsYXRlLmlubmVySFRNTCA9ICcnO1xyXG5cdGJvbWJzID0gW107XHJcblx0Ym94ZXMgPSBbXTtcclxufTtcclxuXHJcbmNvbnN0IG5ld0dhbWUgPSAoKSA9PiB7XHJcblx0Y291bnRlck1pbmVzLmlubmVySFRNTCA9IGAwJHtjaG9zZW5MZXZlbFsyXX1gO1xyXG5cdGNsZWFyUGxhdGUoKTtcclxuXHRzaHVmZmxlKGNvdW50Qm94ZXMoY2hvc2VuTGV2ZWwpLCBjaG9zZW5MZXZlbFsyXSk7XHJcblx0Y3JlYXRlR2FtZVBsYXRlKGNvdW50Qm94ZXMoY2hvc2VuTGV2ZWwpKTtcclxuXHRwbGFudEJvbWJzKCk7XHJcblx0ZHJhd0dhbWVQbGF0ZShjb3VudEJveGVzKGNob3NlbkxldmVsKSk7XHJcbn07XHJcblxyXG5jb25zdCBjaG9vc2VMZXZlbCA9IGUgPT4ge1xyXG5cdGNsZWFyUGxhdGUoKTtcclxuXHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdiZWdnaW5lcicpKSB7XHJcblx0XHRjaG9zZW5MZXZlbCA9IGJlZ2dpbmVyO1xyXG5cdFx0Z2FtZVBsYXRlLmNsYXNzTGlzdC5yZW1vdmUoJ3BsYXRlLWludGVybWVkaWF0ZScpO1xyXG5cdFx0Z2FtZVBsYXRlLmNsYXNzTGlzdC5yZW1vdmUoJ3BsYXRlLWV4cGVydCcpO1xyXG5cdFx0Z2FtZVBsYXRlLmNsYXNzTGlzdC5hZGQoJ3BsYXRlLWJlZ2dpbmVyJyk7XHJcblx0fSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2ludGVybWVkaWF0ZScpKSB7XHJcblx0XHRjaG9zZW5MZXZlbCA9IGludGVybWVkaWF0ZTtcclxuXHRcdGdhbWVQbGF0ZS5jbGFzc0xpc3QucmVtb3ZlKCdwbGF0ZS1iZWdnaW5lcicpO1xyXG5cdFx0Z2FtZVBsYXRlLmNsYXNzTGlzdC5yZW1vdmUoJ3BsYXRlLWV4cGVydCcpO1xyXG5cdFx0Z2FtZVBsYXRlLmNsYXNzTGlzdC5hZGQoJ3BsYXRlLWludGVybWVkaWF0ZScpO1xyXG5cdH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdleHBlcnQnKSkge1xyXG5cdFx0Y2hvc2VuTGV2ZWwgPSBleHBlcnQ7XHJcblx0XHRnYW1lUGxhdGUuY2xhc3NMaXN0LnJlbW92ZSgncGxhdGUtYmVnZ2luZXInKTtcclxuXHRcdGdhbWVQbGF0ZS5jbGFzc0xpc3QucmVtb3ZlKCdwbGF0ZS1pbnRlcm1lZGlhdGUnKTtcclxuXHRcdGdhbWVQbGF0ZS5jbGFzc0xpc3QuYWRkKCdwbGF0ZS1leHBlcnQnKTtcclxuXHR9XHJcblx0bmF2SXRlbXMuZm9yRWFjaChpdGVtID0+IGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnbmF2YmFyX19saXN0LWdhbWVfX2l0ZW0nKSk7XHJcblxyXG5cdG5ld0dhbWUoKTtcclxufTtcclxuXHJcbmNvbnN0IHVuZm9sZE1lbnUgPSBlID0+IHtcclxuXHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXZiYXJfX2xpc3QtZ2FtZScpKSB7XHJcblx0XHRuYXZJdGVtcy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jbGFzc0xpc3QudG9nZ2xlKCduYXZiYXJfX2xpc3QtZ2FtZV9faXRlbScpKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBwdXRGbGFnID0gZSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdGlmIChcclxuXHRcdCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSAmJlxyXG5cdFx0IWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1ib21iJykgJiZcclxuXHRcdCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctdHJpZ2dlcicpICYmXHJcblx0XHQhZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LW51bWJlcicpICYmXHJcblx0XHQhZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd3cm9uZy1iZXQnKVxyXG5cdCkge1xyXG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgncHV0LWZsYWcnKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBzaG93QWxsID0gZSA9PiB7XHJcblx0Y29uc3QgcGxhdGVFbGVtZW50cyA9IGdhbWVQbGF0ZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnYW1lLWJveF9fcGxhdGVfX2VsZW1lbnQnKTtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0Zm9yIChjb25zdCBib3ggb2YgYm94ZXMpIHtcclxuXHRcdGlmIChib3guYm9tYiA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRpZiAoIXBsYXRlRWxlbWVudHNbYm94LmlkXS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0XHRwbGF0ZUVsZW1lbnRzW2JveC5pZF0uY2xhc3NMaXN0LmFkZCgnc2hvdy1ib21iJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmIChib3guYm9tYiA9PT0gZmFsc2UpIHtcclxuXHRcdFx0aWYgKHBsYXRlRWxlbWVudHNbYm94LmlkXS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0XHRwbGF0ZUVsZW1lbnRzW2JveC5pZF0uY2xhc3NMaXN0LmFkZCgnd3JvbmctYmV0Jyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG4vLyBjb25zdCBlbmRHYW1lID0gZSA9PiB7XHJcbi8vIFx0Ly8gc2hvdWxkIGJlIGltcG9zc2libGUgdG8gY2xpY2sgYW55dGhpbmcgb24gZ2FtZSBwbGF0ZVxyXG4vLyBcdC8vIGNsb2NrIHN0b3BcclxuLy8gXHQvLyBpZiB3aW4sIGNoYW5nZSBmYWNlXHJcbi8vIFx0Ly8gaWYgbG9zZSwgY2hhbmdlIGZhY2VcclxuLy8gXHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LXRyaWdnZXInKSkge1xyXG4vLyBcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4vLyBcdH1cclxuLy8gfTtcclxuXHJcbmNvbnN0IGNoZWNrQm9tYkFyb3VuZCA9IChpLCByb3dMZW5ndGgpID0+IHtcclxuXHRpZiAoaSA9PT0gMCkge1xyXG5cdFx0Ly8gdG9wLWxlZnQgY29ybmVyIGNoZWNrXHJcblx0XHRpZiAoYm9tYnMuaW5jbHVkZXMoaSArIDEpKSB7XHJcblx0XHRcdGJvbWJzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoYm9tYnMuaW5jbHVkZXMoaSArIHJvd0xlbmd0aCkpIHtcclxuXHRcdFx0Ym9tYnNOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChib21icy5pbmNsdWRlcyhpICsgKHJvd0xlbmd0aCArIDEpKSkge1xyXG5cdFx0XHRib21ic051bWJlcisrO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoaSA9PT0gcm93TGVuZ3RoIC0gMSkge1xyXG5cdFx0Ly8gdG9wLXJpZ2h0IGNvcm5lciBjaGVja1xyXG5cdFx0aWYgKGJvbWJzLmluY2x1ZGVzKGkgLSAxKSkge1xyXG5cdFx0XHRib21ic051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGJvbWJzLmluY2x1ZGVzKGkgKyByb3dMZW5ndGgpKSB7XHJcblx0XHRcdGJvbWJzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoYm9tYnMuaW5jbHVkZXMoaSArIChyb3dMZW5ndGggLSAxKSkpIHtcclxuXHRcdFx0Ym9tYnNOdW1iZXIrKztcclxuXHRcdH1cclxuXHR9IGVsc2UgaWYgKGkgPT09IHJvd0xlbmd0aCAqIHJvd0xlbmd0aCAtIHJvd0xlbmd0aCkge1xyXG5cdFx0Ly8gYm90dG9tLWxlZnQgY29ybmVyIGNoZWNrXHJcblx0XHRpZiAoYm9tYnMuaW5jbHVkZXMoaSArIDEpKSB7XHJcblx0XHRcdGJvbWJzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoYm9tYnMuaW5jbHVkZXMoaSAtIHJvd0xlbmd0aCkpIHtcclxuXHRcdFx0Ym9tYnNOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChib21icy5pbmNsdWRlcyhpIC0gKHJvd0xlbmd0aCAtIDEpKSkge1xyXG5cdFx0XHRib21ic051bWJlcisrO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoaSA9PT0gcm93TGVuZ3RoICogcm93TGVuZ3RoIC0gMSkge1xyXG5cdFx0Ly8gYm90dG9tLXJpZ2h0IGNvcm5lciBjaGVja1xyXG5cdFx0aWYgKGJvbWJzLmluY2x1ZGVzKGkgLSAxKSkge1xyXG5cdFx0XHRib21ic051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGJvbWJzLmluY2x1ZGVzKGkgLSByb3dMZW5ndGgpKSB7XHJcblx0XHRcdGJvbWJzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoYm9tYnMuaW5jbHVkZXMoaSAtIChyb3dMZW5ndGggKyAxKSkpIHtcclxuXHRcdFx0Ym9tYnNOdW1iZXIrKztcclxuXHRcdH1cclxuXHR9IGVsc2UgaWYgKGkgJSByb3dMZW5ndGggPT09IDApIHtcclxuXHRcdC8vIHNpZGUgbGVmdCBjaGVja1xyXG5cdFx0aWYgKGJvbWJzLmluY2x1ZGVzKGkgLSByb3dMZW5ndGgpKSB7XHJcblx0XHRcdGJvbWJzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoYm9tYnMuaW5jbHVkZXMoaSAtIHJvd0xlbmd0aCArIDEpKSB7XHJcblx0XHRcdGJvbWJzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoYm9tYnMuaW5jbHVkZXMoaSArIDEpKSB7XHJcblx0XHRcdGJvbWJzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoYm9tYnMuaW5jbHVkZXMoaSArIHJvd0xlbmd0aCkpIHtcclxuXHRcdFx0Ym9tYnNOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChib21icy5pbmNsdWRlcyhpICsgcm93TGVuZ3RoICsgMSkpIHtcclxuXHRcdFx0Ym9tYnNOdW1iZXIrKztcclxuXHRcdH1cclxuXHR9IGVsc2UgaWYgKChpICsgMSkgJSByb3dMZW5ndGggPT09IDApIHtcclxuXHRcdC8vIHNpZGUgcmlnaHQgY2hlY2tcclxuXHRcdGlmIChib21icy5pbmNsdWRlcyhpIC0gcm93TGVuZ3RoKSkge1xyXG5cdFx0XHRib21ic051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGJvbWJzLmluY2x1ZGVzKGkgLSByb3dMZW5ndGggLSAxKSkge1xyXG5cdFx0XHRib21ic051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGJvbWJzLmluY2x1ZGVzKGkgLSAxKSkge1xyXG5cdFx0XHRib21ic051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGJvbWJzLmluY2x1ZGVzKGkgKyByb3dMZW5ndGgpKSB7XHJcblx0XHRcdGJvbWJzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoYm9tYnMuaW5jbHVkZXMoaSArIHJvd0xlbmd0aCAtIDEpKSB7XHJcblx0XHRcdGJvbWJzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0fSBlbHNlIGlmIChpIC0gcm93TGVuZ3RoIDwgMCkge1xyXG5cdFx0Ly8gc2lkZSB0b3AgY2hlY2tcclxuXHRcdGlmIChib21icy5pbmNsdWRlcyhpIC0gMSkpIHtcclxuXHRcdFx0Ym9tYnNOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChib21icy5pbmNsdWRlcyhpICsgMSkpIHtcclxuXHRcdFx0Ym9tYnNOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChib21icy5pbmNsdWRlcyhpICsgcm93TGVuZ3RoICsgMSkpIHtcclxuXHRcdFx0Ym9tYnNOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChib21icy5pbmNsdWRlcyhpICsgcm93TGVuZ3RoKSkge1xyXG5cdFx0XHRib21ic051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGJvbWJzLmluY2x1ZGVzKGkgKyByb3dMZW5ndGggLSAxKSkge1xyXG5cdFx0XHRib21ic051bWJlcisrO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoaSA+IHJvd0xlbmd0aCAqIHJvd0xlbmd0aCAtIHJvd0xlbmd0aCkge1xyXG5cdFx0Ly8gc2lkZSBib3R0b20gY2hlY2tcclxuXHRcdGlmIChib21icy5pbmNsdWRlcyhpIC0gMSkpIHtcclxuXHRcdFx0Ym9tYnNOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChib21icy5pbmNsdWRlcyhpICsgMSkpIHtcclxuXHRcdFx0Ym9tYnNOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChib21icy5pbmNsdWRlcyhpIC0gcm93TGVuZ3RoICsgMSkpIHtcclxuXHRcdFx0Ym9tYnNOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChib21icy5pbmNsdWRlcyhpIC0gcm93TGVuZ3RoKSkge1xyXG5cdFx0XHRib21ic051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGJvbWJzLmluY2x1ZGVzKGkgLSByb3dMZW5ndGggLSAxKSkge1xyXG5cdFx0XHRib21ic051bWJlcisrO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSB7XHJcblx0XHQvLyB0aGUgcmVzdCBvZiBib3hlc1xyXG5cdFx0aWYgKGJvbWJzLmluY2x1ZGVzKGkgLSAxKSkge1xyXG5cdFx0XHRib21ic051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGJvbWJzLmluY2x1ZGVzKGkgKyAxKSkge1xyXG5cdFx0XHRib21ic051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGJvbWJzLmluY2x1ZGVzKGkgLSByb3dMZW5ndGggKyAxKSkge1xyXG5cdFx0XHRib21ic051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGJvbWJzLmluY2x1ZGVzKGkgLSByb3dMZW5ndGgpKSB7XHJcblx0XHRcdGJvbWJzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoYm9tYnMuaW5jbHVkZXMoaSAtIHJvd0xlbmd0aCAtIDEpKSB7XHJcblx0XHRcdGJvbWJzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoYm9tYnMuaW5jbHVkZXMoaSArIHJvd0xlbmd0aCArIDEpKSB7XHJcblx0XHRcdGJvbWJzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoYm9tYnMuaW5jbHVkZXMoaSArIHJvd0xlbmd0aCkpIHtcclxuXHRcdFx0Ym9tYnNOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChib21icy5pbmNsdWRlcyhpICsgcm93TGVuZ3RoIC0gMSkpIHtcclxuXHRcdFx0Ym9tYnNOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdC8vIGlmIChib21ic051bWJlciA9PT0gMCkge1xyXG5cdFx0Ly8gXHRwbGF0ZUVsZW1lbnRzW2lkXS5jbGFzc0xpc3QuYWRkKGBzaG93LW51bWJlcmApO1xyXG5cdFx0Ly8gXHRwbGF0ZUVsZW1lbnRzW2lkIC0gMV0uY2xhc3NMaXN0LmFkZChgc2hvdy1udW1iZXJgKTtcclxuXHRcdC8vIFx0cGxhdGVFbGVtZW50c1tpZCArIDFdLmNsYXNzTGlzdC5hZGQoYHNob3ctbnVtYmVyYCk7XHJcblx0XHQvLyBcdHBsYXRlRWxlbWVudHNbaWQgLSByb3dMZW5ndGggKyAxXS5jbGFzc0xpc3QuYWRkKGBzaG93LW51bWJlcmApO1xyXG5cdFx0Ly8gXHRwbGF0ZUVsZW1lbnRzW2lkIC0gcm93TGVuZ3RoXS5jbGFzc0xpc3QuYWRkKGBzaG93LW51bWJlcmApO1xyXG5cdFx0Ly8gXHRwbGF0ZUVsZW1lbnRzW2lkIC0gcm93TGVuZ3RoIC0gMV0uY2xhc3NMaXN0LmFkZChgc2hvdy1udW1iZXJgKTtcclxuXHRcdC8vIFx0cGxhdGVFbGVtZW50c1tpZCArIHJvd0xlbmd0aCArIDFdLmNsYXNzTGlzdC5hZGQoYHNob3ctbnVtYmVyYCk7XHJcblx0XHQvLyBcdHBsYXRlRWxlbWVudHNbaWQgKyByb3dMZW5ndGhdLmNsYXNzTGlzdC5hZGQoYHNob3ctbnVtYmVyYCk7XHJcblx0XHQvLyBcdHBsYXRlRWxlbWVudHNbaWQgKyByb3dMZW5ndGggLSAxXS5jbGFzc0xpc3QuYWRkKGBzaG93LW51bWJlcmApO1xyXG5cdFx0Ly8gfVxyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IHNob3dFbXB0eUZvclplcm9Cb21icyA9IChpLCByb3dMZW5ndGgpID0+IHtcclxuXHRpZiAoaSA9PT0gMCkge1xyXG5cdFx0aWYgKCFwbGF0ZUVsZW1lbnRzW2kgKyAxXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSArIDEsIHJvd0xlbmd0aCk7XHJcblx0XHR9XHJcblx0XHRpZiAoIXBsYXRlRWxlbWVudHNbaSArIDEgKyByb3dMZW5ndGhdLmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1lbXB0eScpKSB7XHJcblx0XHRcdHNob3dFbXB0eShpICsgMSArIHJvd0xlbmd0aCwgcm93TGVuZ3RoKTtcclxuXHRcdH1cclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpICsgcm93TGVuZ3RoXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSArIHJvd0xlbmd0aCwgcm93TGVuZ3RoKTtcclxuXHRcdH1cclxuXHR9IGVsc2UgaWYgKGkgPT09IHJvd0xlbmd0aCAtIDEpIHtcclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpIC0gMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LWVtcHR5JykpIHtcclxuXHRcdFx0c2hvd0VtcHR5KGkgLSAxLCByb3dMZW5ndGgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFwbGF0ZUVsZW1lbnRzW2kgLSAxICsgcm93TGVuZ3RoXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSAtIDEgKyByb3dMZW5ndGgsIHJvd0xlbmd0aCk7XHJcblx0XHR9XHJcblx0XHRpZiAoIXBsYXRlRWxlbWVudHNbaSArIHJvd0xlbmd0aF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LWVtcHR5JykpIHtcclxuXHRcdFx0c2hvd0VtcHR5KGkgKyByb3dMZW5ndGgsIHJvd0xlbmd0aCk7XHJcblx0XHR9XHJcblx0fSBlbHNlIGlmIChpID09PSByb3dMZW5ndGggKiByb3dMZW5ndGggLSByb3dMZW5ndGgpIHtcclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpICsgMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LWVtcHR5JykpIHtcclxuXHRcdFx0c2hvd0VtcHR5KGkgKyAxLCByb3dMZW5ndGgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFwbGF0ZUVsZW1lbnRzW2kgLSByb3dMZW5ndGhdLmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1lbXB0eScpKSB7XHJcblx0XHRcdHNob3dFbXB0eShpIC0gcm93TGVuZ3RoLCByb3dMZW5ndGgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFwbGF0ZUVsZW1lbnRzW2kgLSAxIC0gcm93TGVuZ3RoXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSAtIDEgLSByb3dMZW5ndGgsIHJvd0xlbmd0aCk7XHJcblx0XHR9XHJcblx0fSBlbHNlIGlmIChpID09PSByb3dMZW5ndGggKiByb3dMZW5ndGggLSAxKSB7XHJcblx0XHRpZiAoIXBsYXRlRWxlbWVudHNbaSAtIDFdLmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1lbXB0eScpKSB7XHJcblx0XHRcdHNob3dFbXB0eShpIC0gMSwgcm93TGVuZ3RoKTtcclxuXHRcdH1cclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpIC0gcm93TGVuZ3RoXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSAtIHJvd0xlbmd0aCwgcm93TGVuZ3RoKTtcclxuXHRcdH1cclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpIC0gMSAtIHJvd0xlbmd0aF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LWVtcHR5JykpIHtcclxuXHRcdFx0c2hvd0VtcHR5KGkgLSAxIC0gcm93TGVuZ3RoLCByb3dMZW5ndGgpO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoaSAlIHJvd0xlbmd0aCA9PT0gMCkge1xyXG5cdFx0aWYgKCFwbGF0ZUVsZW1lbnRzW2kgLSByb3dMZW5ndGhdLmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1lbXB0eScpKSB7XHJcblx0XHRcdHNob3dFbXB0eShpIC0gcm93TGVuZ3RoLCByb3dMZW5ndGgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFwbGF0ZUVsZW1lbnRzW2kgKyAxIC0gcm93TGVuZ3RoXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSArIDEgLSByb3dMZW5ndGgsIHJvd0xlbmd0aCk7XHJcblx0XHR9XHJcblx0XHRpZiAoIXBsYXRlRWxlbWVudHNbaSArIDFdLmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1lbXB0eScpKSB7XHJcblx0XHRcdHNob3dFbXB0eShpICsgMSwgcm93TGVuZ3RoKTtcclxuXHRcdH1cclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpICsgcm93TGVuZ3RoXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSArIHJvd0xlbmd0aCwgcm93TGVuZ3RoKTtcclxuXHRcdH1cclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpICsgMSArIHJvd0xlbmd0aF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LWVtcHR5JykpIHtcclxuXHRcdFx0c2hvd0VtcHR5KGkgKyAxICsgcm93TGVuZ3RoLCByb3dMZW5ndGgpO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoKGkgKyAxKSAlIHJvd0xlbmd0aCA9PT0gMCkge1xyXG5cdFx0aWYgKCFwbGF0ZUVsZW1lbnRzW2kgLSByb3dMZW5ndGhdLmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1lbXB0eScpKSB7XHJcblx0XHRcdHNob3dFbXB0eShpIC0gcm93TGVuZ3RoLCByb3dMZW5ndGgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFwbGF0ZUVsZW1lbnRzW2kgLSByb3dMZW5ndGggLSAxXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSAtIHJvd0xlbmd0aCAtIDEsIHJvd0xlbmd0aCk7XHJcblx0XHR9XHJcblx0XHRpZiAoIXBsYXRlRWxlbWVudHNbaSAtIDFdLmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1lbXB0eScpKSB7XHJcblx0XHRcdHNob3dFbXB0eShpIC0gMSwgcm93TGVuZ3RoKTtcclxuXHRcdH1cclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpICsgcm93TGVuZ3RoXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSArIHJvd0xlbmd0aCwgcm93TGVuZ3RoKTtcclxuXHRcdH1cclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpICsgcm93TGVuZ3RoIC0gMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LWVtcHR5JykpIHtcclxuXHRcdFx0c2hvd0VtcHR5KGkgKyByb3dMZW5ndGggLSAxLCByb3dMZW5ndGgpO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoaSAtIHJvd0xlbmd0aCA8IDApIHtcclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpIC0gMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LWVtcHR5JykpIHtcclxuXHRcdFx0c2hvd0VtcHR5KGkgLSAxLCByb3dMZW5ndGgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFwbGF0ZUVsZW1lbnRzW2kgKyAxXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSArIDEsIHJvd0xlbmd0aCk7XHJcblx0XHR9XHJcblx0XHRpZiAoIXBsYXRlRWxlbWVudHNbaSArIHJvd0xlbmd0aCArIDFdLmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1lbXB0eScpKSB7XHJcblx0XHRcdHNob3dFbXB0eShpICsgcm93TGVuZ3RoICsgMSwgcm93TGVuZ3RoKTtcclxuXHRcdH1cclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpICsgcm93TGVuZ3RoXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSArIHJvd0xlbmd0aCwgcm93TGVuZ3RoKTtcclxuXHRcdH1cclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpICsgcm93TGVuZ3RoIC0gMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LWVtcHR5JykpIHtcclxuXHRcdFx0c2hvd0VtcHR5KGkgKyByb3dMZW5ndGggLSAxLCByb3dMZW5ndGgpO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoaSA+IHJvd0xlbmd0aCAqIHJvd0xlbmd0aCAtIHJvd0xlbmd0aCkge1xyXG5cdFx0aWYgKCFwbGF0ZUVsZW1lbnRzW2kgLSAxXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSAtIDEsIHJvd0xlbmd0aCk7XHJcblx0XHR9XHJcblx0XHRpZiAoIXBsYXRlRWxlbWVudHNbaSArIDFdLmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1lbXB0eScpKSB7XHJcblx0XHRcdHNob3dFbXB0eShpICsgMSwgcm93TGVuZ3RoKTtcclxuXHRcdH1cclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpIC0gcm93TGVuZ3RoICsgMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LWVtcHR5JykpIHtcclxuXHRcdFx0c2hvd0VtcHR5KGkgLSByb3dMZW5ndGggKyAxLCByb3dMZW5ndGgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFwbGF0ZUVsZW1lbnRzW2kgLSByb3dMZW5ndGhdLmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1lbXB0eScpKSB7XHJcblx0XHRcdHNob3dFbXB0eShpIC0gcm93TGVuZ3RoLCByb3dMZW5ndGgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFwbGF0ZUVsZW1lbnRzW2kgLSByb3dMZW5ndGggLSAxXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSAtIHJvd0xlbmd0aCAtIDEsIHJvd0xlbmd0aCk7XHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpIC0gMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LWVtcHR5JykpIHtcclxuXHRcdFx0c2hvd0VtcHR5KGkgLSAxLCByb3dMZW5ndGgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFwbGF0ZUVsZW1lbnRzW2kgKyAxXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSArIDEsIHJvd0xlbmd0aCk7XHJcblx0XHR9XHJcblx0XHRpZiAoIXBsYXRlRWxlbWVudHNbaSAtIHJvd0xlbmd0aCArIDFdLmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1lbXB0eScpKSB7XHJcblx0XHRcdHNob3dFbXB0eShpIC0gcm93TGVuZ3RoICsgMSwgcm93TGVuZ3RoKTtcclxuXHRcdH1cclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpIC0gcm93TGVuZ3RoXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSAtIHJvd0xlbmd0aCwgcm93TGVuZ3RoKTtcclxuXHRcdH1cclxuXHRcdGlmICghcGxhdGVFbGVtZW50c1tpIC0gcm93TGVuZ3RoIC0gMV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LWVtcHR5JykpIHtcclxuXHRcdFx0c2hvd0VtcHR5KGkgLSByb3dMZW5ndGggLSAxLCByb3dMZW5ndGgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFwbGF0ZUVsZW1lbnRzW2kgKyByb3dMZW5ndGggLSAxXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctZW1wdHknKSkge1xyXG5cdFx0XHRzaG93RW1wdHkoaSArIHJvd0xlbmd0aCAtIDEsIHJvd0xlbmd0aCk7XHJcblx0XHR9XHJcblx0XHRpZiAoIXBsYXRlRWxlbWVudHNbaSArIHJvd0xlbmd0aF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LWVtcHR5JykpIHtcclxuXHRcdFx0c2hvd0VtcHR5KGkgKyByb3dMZW5ndGgsIHJvd0xlbmd0aCk7XHJcblx0XHR9XHJcblx0XHRpZiAoIXBsYXRlRWxlbWVudHNbaSArIHJvd0xlbmd0aCArIDFdLmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1lbXB0eScpKSB7XHJcblx0XHRcdHNob3dFbXB0eShpICsgcm93TGVuZ3RoICsgMSwgcm93TGVuZ3RoKTtcclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBzaG93RW1wdHkgPSAoZSwgcm93TGVuZ3RoKSA9PiB7XHJcblx0bGV0IGkgPSBOdW1iZXIucGFyc2VGbG9hdChlKTtcclxuXHRpZiAoIXBsYXRlRWxlbWVudHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRpZiAoYm94ZXNbaV0uYm9tYnNBcm91bmQgPT09IDApIHtcclxuXHRcdFx0cGxhdGVFbGVtZW50c1tpXS5jbGFzc0xpc3QuYWRkKCdzaG93LWVtcHR5Jyk7XHJcblx0XHRcdC8vIGNoZWNrQm9tYkFyb3VuZChlLCBjaG9zZW5MZXZlbFswXSk7XHJcblx0XHRcdHNob3dFbXB0eUZvclplcm9Cb21icyhpLCByb3dMZW5ndGgpO1xyXG5cdFx0fSBlbHNlIGlmIChib3hlc1tpXS5ib21ic0Fyb3VuZCA9PT0gMSkge1xyXG5cdFx0XHRwbGF0ZUVsZW1lbnRzW2ldLmNsYXNzTGlzdC5hZGQoJ3Nob3ctbnVtYmVyJyk7XHJcblx0XHRcdHBsYXRlRWxlbWVudHNbaV0uY2xhc3NMaXN0LmFkZCgnc2hvdy1udW1iZXItMScpO1xyXG5cdFx0fSBlbHNlIGlmIChib3hlc1tpXS5ib21ic0Fyb3VuZCA9PT0gMikge1xyXG5cdFx0XHRwbGF0ZUVsZW1lbnRzW2ldLmNsYXNzTGlzdC5hZGQoJ3Nob3ctbnVtYmVyJyk7XHJcblx0XHRcdHBsYXRlRWxlbWVudHNbaV0uY2xhc3NMaXN0LmFkZCgnc2hvdy1udW1iZXItMicpO1xyXG5cdFx0fSBlbHNlIGlmIChib3hlc1tpXS5ib21ic0Fyb3VuZCA9PT0gMykge1xyXG5cdFx0XHRwbGF0ZUVsZW1lbnRzW2ldLmNsYXNzTGlzdC5hZGQoJ3Nob3ctbnVtYmVyJyk7XHJcblx0XHRcdHBsYXRlRWxlbWVudHNbaV0uY2xhc3NMaXN0LmFkZCgnc2hvdy1udW1iZXItMycpO1xyXG5cdFx0fSBlbHNlIGlmIChib3hlc1tpXS5ib21ic0Fyb3VuZCA9PT0gNCkge1xyXG5cdFx0XHRwbGF0ZUVsZW1lbnRzW2ldLmNsYXNzTGlzdC5hZGQoJ3Nob3ctbnVtYmVyJyk7XHJcblx0XHRcdHBsYXRlRWxlbWVudHNbaV0uY2xhc3NMaXN0LmFkZCgnc2hvdy1udW1iZXItNCcpO1xyXG5cdFx0fSBlbHNlIGlmIChib3hlc1tpXS5ib21ic0Fyb3VuZCA9PT0gNSkge1xyXG5cdFx0XHRwbGF0ZUVsZW1lbnRzW2ldLmNsYXNzTGlzdC5hZGQoJ3Nob3ctbnVtYmVyJyk7XHJcblx0XHRcdHBsYXRlRWxlbWVudHNbaV0uY2xhc3NMaXN0LmFkZCgnc2hvdy1udW1iZXItNScpO1xyXG5cdFx0fSBlbHNlIGlmIChib3hlc1tpXS5ib21ic0Fyb3VuZCA9PT0gNikge1xyXG5cdFx0XHRwbGF0ZUVsZW1lbnRzW2ldLmNsYXNzTGlzdC5hZGQoJ3Nob3ctbnVtYmVyJyk7XHJcblx0XHRcdHBsYXRlRWxlbWVudHNbaV0uY2xhc3NMaXN0LmFkZCgnc2hvdy1udW1iZXItNicpO1xyXG5cdFx0fSBlbHNlIGlmIChib3hlc1tpXS5ib21ic0Fyb3VuZCA9PT0gNykge1xyXG5cdFx0XHRwbGF0ZUVsZW1lbnRzW2ldLmNsYXNzTGlzdC5hZGQoJ3Nob3ctbnVtYmVyJyk7XHJcblx0XHRcdHBsYXRlRWxlbWVudHNbaV0uY2xhc3NMaXN0LmFkZCgnc2hvdy1udW1iZXItNycpO1xyXG5cdFx0fSBlbHNlIGlmIChib3hlc1tpXS5ib21ic0Fyb3VuZCA9PT0gOCkge1xyXG5cdFx0XHRwbGF0ZUVsZW1lbnRzW2ldLmNsYXNzTGlzdC5hZGQoJ3Nob3ctbnVtYmVyJyk7XHJcblx0XHRcdHBsYXRlRWxlbWVudHNbaV0uY2xhc3NMaXN0LmFkZCgnc2hvdy1udW1iZXItOCcpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGxlZnRDbGljayA9IGUgPT4ge1xyXG5cdGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHR9IGVsc2UgaWYgKGJveGVzW2UudGFyZ2V0LmlkXS5ib21iID09PSBmYWxzZSkge1xyXG5cdFx0c2hvd0VtcHR5KGUudGFyZ2V0LmlkLCBjaG9zZW5MZXZlbFswXSk7XHJcblx0fSBlbHNlIGlmIChib3hlc1tlLnRhcmdldC5pZF0uYm9tYiA9PT0gdHJ1ZSkge1xyXG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnc2hvdy10cmlnZ2VyJyk7XHJcblx0XHRzaG93QWxsKGUpO1xyXG5cdFx0Ly8gZW5kR2FtZSgpO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRmxhZ3NBcm91bmQgPSAoaSwgcm93TGVuZ3RoKSA9PiB7XHJcblx0aWYgKGkgPT09IDApIHtcclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpICsgMSkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSArIHJvd0xlbmd0aCkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSArIHJvd0xlbmd0aCArIDEpLmNsYXNzTGlzdC5jb250YWlucygncHV0LWZsYWcnKSkge1xyXG5cdFx0XHRmbGFnc051bWJlcisrO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoaSA9PT0gcm93TGVuZ3RoIC0gMSkge1xyXG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkgLSAxKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpICsgcm93TGVuZ3RoKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpICsgcm93TGVuZ3RoIC0gMSkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0fSBlbHNlIGlmIChpID09PSByb3dMZW5ndGggKiByb3dMZW5ndGggLSByb3dMZW5ndGgpIHtcclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpICsgMSkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSAtIHJvd0xlbmd0aCkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSAtIHJvd0xlbmd0aCAtIDEpLmNsYXNzTGlzdC5jb250YWlucygncHV0LWZsYWcnKSkge1xyXG5cdFx0XHRmbGFnc051bWJlcisrO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoaSA9PT0gcm93TGVuZ3RoICogcm93TGVuZ3RoIC0gMSkge1xyXG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkgLSAxKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpIC0gcm93TGVuZ3RoKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpIC0gcm93TGVuZ3RoICsgMSkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0fSBlbHNlIGlmIChpICUgcm93TGVuZ3RoID09PSAwKSB7XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSAtIHJvd0xlbmd0aCkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSAtIHJvd0xlbmd0aCArIDEpLmNsYXNzTGlzdC5jb250YWlucygncHV0LWZsYWcnKSkge1xyXG5cdFx0XHRmbGFnc051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkgKyAxKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpICsgcm93TGVuZ3RoKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpICsgcm93TGVuZ3RoICsgMSkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0fSBlbHNlIGlmICgoaSArIDEpICUgcm93TGVuZ3RoID09PSAwKSB7XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSAtIHJvd0xlbmd0aCkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSAtIHJvd0xlbmd0aCAtIDEpLmNsYXNzTGlzdC5jb250YWlucygncHV0LWZsYWcnKSkge1xyXG5cdFx0XHRmbGFnc051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkgLSAxKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpICsgcm93TGVuZ3RoKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpICsgcm93TGVuZ3RoIC0gMSkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0fSBlbHNlIGlmIChpIC0gcm93TGVuZ3RoIDwgMCkge1xyXG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkgLSAxKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpICsgMSkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSArIHJvd0xlbmd0aCArIDEpLmNsYXNzTGlzdC5jb250YWlucygncHV0LWZsYWcnKSkge1xyXG5cdFx0XHRmbGFnc051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkgKyByb3dMZW5ndGgpLmNsYXNzTGlzdC5jb250YWlucygncHV0LWZsYWcnKSkge1xyXG5cdFx0XHRmbGFnc051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkgKyByb3dMZW5ndGggLSAxKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHR9IGVsc2UgaWYgKGkgPiByb3dMZW5ndGggKiByb3dMZW5ndGggLSByb3dMZW5ndGgpIHtcclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpIC0gMSkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSArIDEpLmNsYXNzTGlzdC5jb250YWlucygncHV0LWZsYWcnKSkge1xyXG5cdFx0XHRmbGFnc051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkgLSByb3dMZW5ndGggKyAxKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpIC0gcm93TGVuZ3RoKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpIC0gcm93TGVuZ3RoIC0gMSkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpIC0gMSkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSArIDEpLmNsYXNzTGlzdC5jb250YWlucygncHV0LWZsYWcnKSkge1xyXG5cdFx0XHRmbGFnc051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkgLSByb3dMZW5ndGggKyAxKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpIC0gcm93TGVuZ3RoKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpIC0gcm93TGVuZ3RoIC0gMSkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdXQtZmxhZycpKSB7XHJcblx0XHRcdGZsYWdzTnVtYmVyKys7XHJcblx0XHR9XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSArIHJvd0xlbmd0aCArIDEpLmNsYXNzTGlzdC5jb250YWlucygncHV0LWZsYWcnKSkge1xyXG5cdFx0XHRmbGFnc051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkgKyByb3dMZW5ndGgpLmNsYXNzTGlzdC5jb250YWlucygncHV0LWZsYWcnKSkge1xyXG5cdFx0XHRmbGFnc051bWJlcisrO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkgKyByb3dMZW5ndGggLSAxKS5jbGFzc0xpc3QuY29udGFpbnMoJ3B1dC1mbGFnJykpIHtcclxuXHRcdFx0ZmxhZ3NOdW1iZXIrKztcclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBkb3VibGVDbGljayA9IGUgPT4ge1xyXG5cdGxldCBrID0gTnVtYmVyLnBhcnNlRmxvYXQoZS50YXJnZXQuaWQpO1xyXG5cdGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctbnVtYmVyJykpIHtcclxuXHRcdGZsYWdzTnVtYmVyID0gMDtcclxuXHRcdGNoZWNrRmxhZ3NBcm91bmQoTnVtYmVyLnBhcnNlRmxvYXQoZS50YXJnZXQuaWQpLCBjaG9zZW5MZXZlbFswXSk7XHJcblx0XHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LW51bWJlci0xJykgJiYgZmxhZ3NOdW1iZXIgPT09IDEpIHtcclxuXHRcdFx0c2hvd0VtcHR5Rm9yWmVyb0JvbWJzKGssIGNob3NlbkxldmVsWzBdKTtcclxuXHRcdH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LW51bWJlci0yJykgJiYgZmxhZ3NOdW1iZXIgPT09IDIpIHtcclxuXHRcdFx0c2hvd0VtcHR5Rm9yWmVyb0JvbWJzKGssIGNob3NlbkxldmVsWzBdKTtcclxuXHRcdH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LW51bWJlci0zJykgJiYgZmxhZ3NOdW1iZXIgPT09IDMpIHtcclxuXHRcdFx0c2hvd0VtcHR5Rm9yWmVyb0JvbWJzKGssIGNob3NlbkxldmVsWzBdKTtcclxuXHRcdH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LW51bWJlci00JykgJiYgZmxhZ3NOdW1iZXIgPT09IDQpIHtcclxuXHRcdFx0c2hvd0VtcHR5Rm9yWmVyb0JvbWJzKGssIGNob3NlbkxldmVsWzBdKTtcclxuXHRcdH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LW51bWJlci01JykgJiYgZmxhZ3NOdW1iZXIgPT09IDUpIHtcclxuXHRcdFx0c2hvd0VtcHR5Rm9yWmVyb0JvbWJzKGssIGNob3NlbkxldmVsWzBdKTtcclxuXHRcdH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LW51bWJlci02JykgJiYgZmxhZ3NOdW1iZXIgPT09IDYpIHtcclxuXHRcdFx0c2hvd0VtcHR5Rm9yWmVyb0JvbWJzKGssIGNob3NlbkxldmVsWzBdKTtcclxuXHRcdH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LW51bWJlci03JykgJiYgZmxhZ3NOdW1iZXIgPT09IDcpIHtcclxuXHRcdFx0c2hvd0VtcHR5Rm9yWmVyb0JvbWJzKGssIGNob3NlbkxldmVsWzBdKTtcclxuXHRcdH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LW51bWJlci04JykgJiYgZmxhZ3NOdW1iZXIgPT09IDgpIHtcclxuXHRcdFx0c2hvd0VtcHR5Rm9yWmVyb0JvbWJzKGssIGNob3NlbkxldmVsWzBdKTtcclxuXHRcdH1cclxuXHRcdGZsYWdzTnVtYmVyID0gMDtcclxuXHR9XHJcbn07XHJcblxyXG4vLyAgTGlzdGVuZXJzXHJcbm5hdkJhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVuZm9sZE1lbnUpO1xyXG5uYXZJdGVtcy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNob29zZUxldmVsKSk7XHJcbmdhbWVQbGF0ZS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHB1dEZsYWcpO1xyXG5nYW1lUGxhdGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBsZWZ0Q2xpY2spO1xyXG5nYW1lUGxhdGUuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBkb3VibGVDbGljayk7XHJcbm5ld0dhbWUoKTtcclxuIl19
